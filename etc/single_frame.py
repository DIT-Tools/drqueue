#!/usr/bin/python## region rendering for blender# usage: curpart=N maxparts=M blender -b scene.blend -P single_frame.py# # 2007 kaazoo@konzept3d.com#import Blenderfrom Blender import Scene, Get, Noise, Load, sys, BGL, Draw, Window, Cameraimport osimport sysprint '\nThis Python script will render a region of your scene.\n'# maximum of partsmaxparts = int(os.getenv('maxparts'))print 'maxparts: ' + str(maxparts)# get scene settingsscn = Scene.GetCurrent()context = scn.getRenderingContext()# enable region renderingcontext.enableBorderRender(True)# Set the start and end frame to the current frame.curpart = int(os.getenv('curpart'))context.startFrame(curpart)context.endFrame(curpart)print 'curpart: ' + str(curpart) # get scenefile from argsscenefile = sys.argv[2]print 'scenefile: ' + scenefile# calculate regionleft = 0.0bottom = 1.0 - (float(curpart) * 1.0 / float(maxparts))right = 1.0top = 1.0 - ((float(curpart) - 1.0) * 1.0 / float(maxparts))print 'left: ' + str(left)print 'bottom: ' + str(bottom)print 'right: ' + str(right)print 'top: ' + str(top) + '\n'# set output path and regioncontext.setRenderPath(scenefile)context.setBorder(left, bottom, right, top)# render desired part of scenecontext.renderAnim()